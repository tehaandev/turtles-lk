<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <title>Payment Information</title>
        
        <link rel="shortcut icon" href="media/icon.webp" type="image/x-icon">
        <script src="https://unpkg.com/alpinejs" defer></script>
        <script src="https://cdn.tailwindcss.com"></script>
        <script src="https://cdn.jsdelivr.net/npm/intl-tel-input@18.1.1/build/js/intlTelInput.min.js"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/intl-tel-input@18.1.1/build/css/intlTelInput.css">
        <link rel="stylesheet" href="/CSS/ticketStyle.css">
        <link rel="shortcut icon" href="/media/icon.webp" type="image/x-icon">
    </head>

    <body>
        <div
        class='custom-bg flex items-center justify-center min-h-screen z-10' 
        x-data="payment">
            <div
            class="w-max px-10 py-3 mx-auto bg-white shadow-xl"
            x-data="{}">
                <header class="text-center p-2 mb-8">
                    <h1 class=" text-3xl">Buy Tickets!</h1>
                    <h3 class="mt-3">Enter your payment infomation.</h3>
                </header>
                <div
                class="grid grid-cols-2 max-[815px]:grid-cols-1 ">
                    <div class="mr-4 ">
                        <form action="" 
                        class="text-gray-700 text-bold">
                            <!-- Date picker -->
                            <div class="inline">
                                <label class="text-lg" for="card">
                                    Card number:
                                    <span class="text-red-500">*</span>
                                </label>
                                <input 
                                class="p-2 mt-2 w-full bg-slate-200 rounded border-2 border-slate-200 focus:border-slate-600 focus:outline-none" 
                                placeholder="1111 2222 3333 4444" id="card" required>
                            </div>
                            <div class="mt-4">
                                <label class="text-lg" for="phone">
                                    Expiry date:
                                    <span class="text-red-500">*</span>
                                </label>
                                <input 
                                class="p-2 mt-2 w-full bg-slate-200 rounded border-2 border-slate-200 focus:border-slate-600 focus:outline-none"
                                type="text" name="expDate" id="expDate" 
                                placeholder="12/27"  required>
                            </div>
                            <div class="mt-4">
                                <label class="text-lg" for="cvv">
                                    CVV/ CVC:
                                    <span class="text-red-500">*</span>
                                </label>
                                <input placeholder="123"
                                class="p-2 mt-2 w-full bg-slate-200 rounded border-2 border-slate-200 focus:border-slate-600 focus:outline-none"
                                type="password" name="cvv" id="cvv" required>
                            </div>
                            <div class="mt-4">
                                <label class="text-lg" for="nameOnCard">
                                    Name on card:
                                    <span class="text-red-500">*</span>
                                </label>
                                <input placeholder="John Doe"
                                class="p-2 mt-2 w-full bg-slate-200 rounded border-2 border-slate-200 focus:border-slate-600 focus:outline-none"
                                type="text" name="nameOnCard" id="nameOnCard" required>
                            </div>
                        </form>
                        <p class="text-xs text-center mt-3">
                            <span class="text-red-500">*</span>
                            Required fields.
                        </p>
                    </div>
                
                    <!-- Summary Table -->
                    <div
                    class="justify-self-center max-[815px]:mt-7">
                        <table
                        class="border-2 table-fixed w-80 ">
                            <tr>
                                <td colspan="2" class="font-bold border-2 px-2 py-2">Date</td>
                            </tr>
                            <tr>
                                <td colspan="2" class="border-2 px-2 py-2 text-center">
                                    <span id="summary_date">DD-MM-YYYY</span>
                                </td>
                            </tr>
                            <tr>
                               <td class="font-bold border-2 px-2 py-2" colspan="2">Categories</td> 
                            </tr>
                            <tr>
                                <td class="border-2 px-2 py-2">Adult (Resident)</td>
                                <td class="border-2 px-2 py-2 text-center">
                                    <span id="adult_LK_count"></span>
                                </td>
                            </tr>
                            <tr>
                                <td class="border-2 px-2 py-2">Child (Resident)</td>
                                <td class="border-2 px-2 py-2 text-center">
                                    <span id="child_LK_count" x-text="child_LK_count"></span>
                                </td>
                            </tr>
                            <tr>
                                <td class="border-2 px-2 py-2">Adult (Foreign)</td>
                                <td class="border-2 px-2 py-2 text-center">
                                    <span id="adult_FR_count" x-text="adult_FR_count"></span>
                                </td>
                            </tr>
                            <tr>
                                <td class="border-2 px-2 py-2">Child (Foreign)</td>
                                <td class="border-2 px-2 py-2 text-center">
                                    <span id="child_FR_count" x-text="child_FR_count"></span>
                                </td>
                            </tr>
                            <tr>
                                <td class="border-2 px-2 py-2">Infant</td>
                                <td class="border-2 px-2 py-2  text-center">
                                    <span id="infant_count" x-text="infant_count"></span>
                                </td>
                            </tr>
                            <tr>
                                <td class="font-bold border-2 px-2 py-2" colspan="2">Time Slot(s)</td>
                            </tr>
                            <template x-for="time in selectedTimeTxt">
                                <tr>
                                    <td class="text-center border-2 px-1 py-2" colspan="2">
                                        <span x-text="time"></span>
                                    </td>
                                </tr>
                            </template>    
                        </table>
                        <div class="m-3 p-3">
                            <p>Net Total: 
                                <span class="text-xl text-bold">$</span>
                                <span class="text-xl text-bold" id="total"></span>
                            </p>
                        </div>
                        <!-- Procees to payment Button -->
                        <button 
                        class="w-full py-3 my-2 mr-4 font-medium tracking-widest text-white uppercase bg-sky-500 shadow-lg focus:outline-none hover:bg-sky-600 hover:shadow-none duration-200"
                        type="submit"
                        id="nextBtn"
                        x-on:click="goToConfirmation()">
                            Pay <span id="totalBtn"></span>
                        </button> 
                    </div>
                </div>
        </div>
        <script src="/js/payment.js"></script>
    </body>
</html>